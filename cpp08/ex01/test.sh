#!/bin/bash

program="./$(grep 'NAME :=' ./Makefile | cut -d'=' -f2 | xargs)"

make
build_status="$?"

if (( build_status != 0 )); then
    exit $build_status;
fi

if ! [ -x $program ]; then
    echo "missing $program executable, check if right NAME on Makefile"
    exit 1;
fi

run_test_command() {
    actual=$($command)
    if [[ "$actual" == "$expected" ]]; then
	echo "[GOOD] test: $command ";
    else
	echo "[BAD] test: $command ";
	echo "actual:"
	echo "$actual";
	echo ""
	echo "expected:"
	echo "$expected"
	exit 42;
    fi
}

command="$program"
expected='arr: { 6 3 17 9 11 }
	min: 2
	max: 14
arr: { 6 3 17 9 11 100 }
	min: 2
	max: 97
arr: { 6 3 17 9 }
	min: 3
	max: 14
arr: { 17 9 11 100 }
	min: 2
	max: 91
arr: { 6 3 17 9 11 100 }
Span is full, cannot addNumber
arr: { }
	min: Not Enough elements on span to retrieve shortestSpan
arr: { }
	max: Not Enough elements on span to retrieve longestSpan
arr: { 520932930 28925691 822784415 890459872 145532761 2132723841 1040043610 1643550337 68362598 66433441 2002830094 1906706780 1269870926 1028169396 1789614810 400151788 1579802159 247074805 1500357984 763654014 1370738826 1950367213 631361083 569022154 810662187 1163120341 19932546 2146335337 27706653 1809249219 1830665860 1002898451 115120654 2097549478 422527594 1840335376 309696691 1719408956 1566369460 2116969294 393860762 1073226880 1009021007 2085187937 968021766 205711490 2091824407 838023412 1461728458 57271926 496586426 1006609540 210367714 892086236 1710028745 679469414 1671889999 1779175845 1046126087 792526220 1294600846 52107318 1741849297 764058775 1731106012 590294128 1846443803 2042297871 1669187896 1462087311 1793547003 2064010129 1514888112 158379552 1152891831 2055540383 897787792 899316322 819516268 1797288065 515529753 1559526673 926881476 250591794 480849991 664835076 525706991 809673979 1734177661 675891343 1664792818 608455363 2139642574 1359072203 1290446329 1094100450 1791277536 428300259 77268269 1567674295 425011022 629636832 1654306655 461172876 664044909 130272104 1197415635 895321408 248989727 1472197333 2061478644 1917892657 292344729 2142759614 60072308 317966466 1123080326 1377265599 2124175027 1241531061 1461427975 1449505086 777488834 1964324690 1138959499 1970553982 607971440 448799654 1013216514 1732113735 347225413 1104447392 1746156323 137800759 1029985047 93006462 1938995465 632437030 1472594207 141805374 1763556295 521354171 666272237 1057751801 764889541 661404645 852511643 152291117 1903779842 1468947841 1134357775 1938790006 1474254911 135970091 326719029 51035024 899673215 375365978 1616521007 1052946452 1605767484 707111739 252494875 253677653 805274676 809536138 1564967621 31097691 820366416 1053339972 1777207183 171078558 1984204620 253494077 2014880138 420849823 1559325590 1842246789 222560277 1801546112 1213565331 1740322558 873960166 2007848129 345475145 1752464174 927153813 532792459 1783534070 1280369664 1386799908 1306032865 1064006068 653656307 1622697344 1779427355 978287363 940908509 1927217902 255431213 212586538 1676639205 2142186148 1159247481 1500767583 1205333466 826320911 198806028 1995841511 413709237 1806580920 2081721154 683858354 274876934 619305041 1954070725 599261504 89793298 1622439292 1737314685 1860246183 2090664655 673424371 1004583707 521930835 1768329497 1287665246 1597078703 703657468 178620647 2042559270 1767553595 1131982214 667441925 1389345194 1134981727 1688133035 2045458728 1106620320 1759335220 444706997 947407019 1626009475 1611838250 1806744492 535908464 467138930 3783078 1305166183 1530067223 1870627783 480556801 32158040 1461782883 971992901 376584378 619333337 282157950 584773074 1395886046 1545415294 2127619440 1149721883 317831875 1008493036 1801513928 672648843 855186493 11338480 1587272424 1245767134 1790146535 746919275 1430338210 762350952 945012262 32034222 1528257404 1517770908 1364891690 314316576 2056404859 394650395 1459686829 103351675 1864814949 1568503525 1476977750 801568577 798156008 1425167294 1901595267 1260017815 783173638 872061403 160109446 162449231 832510080 1140954355 1138360422 491801431 42093514 943569935 1560648097 447301821 1608941047 358093905 1235082441 453653985 995579045 1651915538 1075858750 145703510 707534990 923623491 1328212721 178691282 1082238068 2136202433 1522680885 135012896 1419011840 1526094945 1680544494 1206385314 1324861071 1829568201 1881896461 894667011 2135441230 1614043946 223171518 1337255364 1834536893 1638840672 369917882 244684709 2132203805 889733146 816350761 134219444 968365958 1695579140 490610290 1497423197 830812786 531821508 497146142 1823821764 1938293917 1726421676 1317553915 1424765188 1585850666 972600545 1999322498 936599277 368916029 586410514 999052715 2051828759 793548987 1304376639 1145103097 2146790512 1235381937 1192315963 1084479984 1161378999 817968610 1555603823 1567534583 224355085 1902113110 1373470528 617442493 714997547 1792767464 1847200038 1867437634 550813733 1871891961 252759977 414279673 656480537 1844890720 1709435654 1448807212 1933222398 241264076 476199796 1965902650 1889929455 613727408 552589715 1656050377 1850621119 1383487532 1469504255 1896073285 793863162 142264923 897261750 648063016 2105535975 1507596559 15816160 1681712539 1510364806 1444586902 1869432579 1867599643 1126215349 380505985 2105272776 1378978260 844097396 467962490 960454116 1865236760 67946414 1661563541 21087999 91197438 1599500155 598811939 1123888931 2082587952 219746811 1760263284 1010293116 1990687430 1835899397 916125283 2007366038 832906296 1357705726 1946387507 316435398 1160224214 736849938 1846199364 81495245 1743499576 583010517 1837361605 1869135022 1161526438 1148492236 1125991216 908469948 45685866 1190687883 1638626835 1070926717 1004887112 1326291376 98900572 69570826 1045768614 1226928450 848480656 1122969312 1658936948 973096035 1737088340 203549415 113568234 1775830302 652159708 91678068 1087513977 614091822 234844872 2110304165 42187303 372398011 1126023519 1451386469 185638210 1875140026 1155897257 1028127637 1087771297 643901768 886917543 739151374 1871728570 1801614734 219411638 421977967 1192688975 911241727 1533818932 501091536 1562065665 650047080 1091961271 197834435 698663489 2144161474 2146296858 1528473747 858880415 1965543418 147284525 1509850331 1387740165 2076546735 1764227748 1069046507 1616452347 2046461479 779987201 1004705919 428464272 686351113 1368488154 630544908 1883954458 1123684238 789796348 510798729 1502101244 2145337423 435635231 949574794 1552581901 170215410 362178066 1158099664 1536760087 540959740 1612072429 1447623651 1368465494 249698288 496080178 1088033992 764049339 1572515160 181050491 2078758085 275681552 1257617885 1249739421 1980381087 415884356 1856583954 669123968 1742154484 1598369390 921397407 421640932 1970592671 1258217463 589428632 184954413 1119982082 844686219 1774376063 1980568599 1419914893 1671321187 809087149 461260439 2135716250 1941337792 1345221273 426099695 1747094767 877843538 703688276 696410703 788809171 1099184066 1332265768 1726259154 733530308 1887752776 537505454 1537946096 1146860180 1613313435 830375023 1764273355 1835563356 1710735137 1814381523 42469661 823021623 582247434 1897127506 1332286333 2071895109 893760858 1938113288 838073720 159771367 922806419 480585499 514485326 1185711260 1748386307 1109919848 1379927494 1765487705 770307336 1523972036 360551283 1734045194 597002121 771048863 1101914443 2124555420 1192345271 1577059540 1396517506 1420945279 1809149513 154907118 773752062 1437423449 1732362240 228881654 670747001 1103182704 1965381577 1722190132 1064954258 1557500108 1226141873 513382899 1984573494 10708454 1735843677 759334844 1792892634 1803448581 976107109 804601530 233389551 1273044235 674882584 1890449481 763869802 702520448 396078330 1836670257 987067421 330971672 658245574 1445096521 1844664524 55243129 758333599 2144837095 616557123 866969486 479606307 1237074558 1722909699 273814945 2097808741 484993541 1586003222 1389125590 1739064593 1206178881 2825287 239958375 6119559 1919696704 548191600 751375570 1165360630 1165247770 1415893397 654030972 1477241058 932018839 694905855 1266632599 288698682 993189801 150597276 1352681566 1257192620 544761507 1083860988 1495331462 34760993 112457367 285357809 677712112 54202696 451645344 1596088110 1234630093 1440975737 1306124540 457304146 66809209 1875911929 1244369096 1915641986 1120022878 1530344591 89900818 1282044285 1614867644 1182161922 76721010 959826870 2060531473 1031175189 768370233 1179336620 1983994177 1011545870 1570887438 741214248 35229889 1550741498 1450816894 1350209420 510024091 1367662260 1782129979 1304132344 1334204326 2095348755 2089681779 1334096615 285049978 1946447436 1323662101 1005832234 31087654 651674557 527679799 1754403330 1306294000 1157934719 912013119 1613702394 925157995 1348817685 741454063 1918316947 980935818 356335107 1739735513 1744913086 717552970 1792088885 1179741020 190810389 757122952 1124845789 984631182 187292092 1754647389 1113226319 1117210769 1511868862 953452330 150336396 1263038700 15580305 2012664848 1843176439 814802298 2026489214 113578278 1944639810 1007662977 735614197 404453200 859189645 720321087 1071191070 1152900689 56933142 1245094679 1225613585 224381071 191376165 1676185596 960830626 1750789389 696329729 1575362800 796695737 504712714 146178548 101564068 1885275158 1845852668 697026514 401326413 1994371711 1480584401 1289009818 572980190 761380182 1809150048 163898863 1574154987 1971819116 396242108 294319809 978190822 1465827569 231553799 484331429 1195305073 1930327873 985106282 1729846851 902411671 1303439383 425027034 898750516 2047433061 2076980346 461993237 1566950354 1142636517 1493169745 210005373 1244671990 563930503 1134629710 66750610 891038536 1281204021 377452478 177104508 183131214 542247547 1781408208 2058229029 988704527 2076008450 1307206341 1459264377 1593135499 1002220897 1612372458 47760113 1692818860 1343224564 1227149884 275154600 991070209 1033836531 400388640 1265606429 221728668 709595531 1195397726 1340063197 1781145890 1944417697 1569577080 192863812 909264961 522567475 1730919742 1754621532 678647720 746580823 36942740 273857197 660454458 2062587910 1233973496 1142968193 625197336 54141381 1568607786 1081808730 1362769608 1155706401 2115378139 1568606088 1053270444 608650087 1117401548 423324221 196859836 1498447272 862572135 1735255695 1614539605 2111261390 1097882349 929144619 1780014196 103905815 440827694 172470908 1763110953 1626425765 18489692 1518608276 406150137 1462322393 1449602883 273679366 1966616135 996569968 1126489223 688539009 1633234227 631677235 1587621524 670639893 1450502195 356030621 917206605 853792069 197574429 623709941 825297380 176189687 1987603843 1549660216 457579496 399649365 1725513386 1084309414 442092656 2105334419 267528514 1668461627 2140586110 37212579 514073976 714602751 1599882033 574584544 1955954096 40823196 1068171779 1947284380 357794380 495933060 762905413 1673903701 1263727007 846537819 681962558 624488267 1021720580 778546648 415651765 94910664 1730663774 1747534650 1828506178 1212345076 558849596 1639171641 1637546571 94798845 1998805488 837146795 1760812068 1643771216 1633192304 2074561021 602587255 151115533 1473092377 2072097623 2446362 313816841 99809655 316143278 545530668 1126248033 929825973 346628992 1817817880 1962746938 391485399 1952690232 1019635770 98883330 1927268179 1100436752 911322900 750609896 1181579594 1026952549 665420104 1768337999 1430558360 167444708 1039629786 1130861310 1155761220 889237425 1074702502 39996197 53701468 617440936 688829048 65468759 821805249 1613486086 1584636733 2044865084 1866663847 430677506 1376952952 1164484192 1467339833 2025854730 187223925 608964620 2108790385 369890607 1933757431 643629119 599473094 1498502781 1795511898 728262042 1390835641 415120692 1906584988 1370396429 490668128 322022816 578678072 2036402488 1369733577 87532799 137454598 1654508061 1698719871 1737268679 1087023341 957907158 2008186594 1739089106 1618168872 831326096 569088090 1918848539 1325467974 1292368687 1190916651 1188563317 290784425 1688534050 195383245 303702452 1905965492 1695945392 203756713 1450142073 745911108 1665944617 639388333 191543143 187617548 782135440 602936793 1730833405 303555573 1584853786 1397907561 1161279547 1293962493 60726682 578612049 926753927 254359398 1525944656 1302120918 1887905896 963509647 1679938749 1763047334 557181232 1516265304 1830009026 700907648 1207036141 1525892225 420913101 475355289 657175383 638265560 648450155 22246560 235779342 636072279 293198387 1457804091 672428814 1452126384 1883971380 1408092292 537361704 1269423493 2098097553 1044089531 923867880 1140691350 1013002681 285706151 89845165 346684314 600131087 1819972897 1674895658 755679130 480849552 657456803 1073124206 1430862736 988124846 923244471 1400474522 1354520134 2093233938 905690812 581387348 326563986 1740194617 871139426 1844311183 559091883 1416321956 1414371144 839328565 1922598459 2073347651 1684314135 138232191 1838611730 1405149427 468753530 1370561514 1117768076 141109376 803336144 440883519 1110721683 1971466457 911553236 326899754 940996452 1257792256 2032909171 639613227 1823852954 315020600 1004034345 2026221936 2063887873 1607615167 1696348862 542426062 486742519 916305410 739793233 1922034548 1185630062 383691521 1957485153 3494431 748843348 1555978416 1420868193 513565111 752043284 1650211593 354942546 1957282903 899245975 1784677886 1177132353 1444100707 140404155 1835588679 2136338798 1667083793 458166542 1676196899 1150800147 1260345747 1999759468 1838303126 513409293 280693805 1746691823 548014671 2072697161 1488946940 104282089 322413871 708688516 983582150 1883564091 1005237010 764576121 1836205646 1768284932 538661291 1636745732 1667483301 730246557 384840894 1947644341 2112691613 1513320193 1723652330 2017795927 34391665 347612612 1169650044 242984870 1480297143 756031906 2114988490 1462226286 1981816181 913189097 2051011817 2095590322 1854731054 1739688373 952631106 1380410157 1287670158 1679634687 947644594 1323965206 1805150675 1665913556 117346106 846015596 494895185 499209464 2142336266 1534797060 1908103303 1118912870 54309311 96040002 1384094717 937044315 1406218754 1261063243 1173812858 1487923064 75867333 1644463060 376112530 1278918589 620902500 885276727 1079244273 1211613749 1152338589 1347136677 406040018 1759036007 1858285047 1342106608 1765016215 1435909494 2057124319 1749196380 1839914877 1832304586 627678922 959967990 137368019 199374808 817908736 549301505 78196082 2129041857 1433964285 1576251361 698354935 1253261690 1049614054 1432729120 144186029 973035587 721138804 1929658807 477532255 738220946 1266410703 854259904 1618026333 583156770 468482 1431326033 184822937 1057748597 711039913 1848805883 939587138 1193771975 1933353551 298068900 1712137496 1761509119 474205491 659873220 883655432 1747426619 12829161 871344227 991434296 710595799 827032826 1426543198 1404093678 2052132910 1610447550 2055569709 1390669874 1924042017 565423193 452466776 369510205 1982791958 133203960 1080995546 580488002 243641293 1775380269 1678389665 1497396310 378922977 1269461084 582405843 264540275 837252635 1392181301 1556791842 59733446 1065163773 783851419 1526108435 1907270924 14020899 1573531970 90706985 1946391172 378033053 1344893945 1367148940 1744695327 1352644751 638442915 1481771993 1921515739 1055941787 408755301 150157154 398002053 1956428013 1563495274 1055165426 245357856 560883552 1464131781 1795215941 49080037 254461411 1092993500 366638062 955324791 1556017365 2075484036 1083314831 906005351 1572877027 1967981866 328090768 1631015927 2003414781 996122954 55975866 188542476 1295014807 567098904 698854142 1053499151 157561342 286138243 909564468 1261414330 632081126 1933366620 517719583 1856777484 1774299031 685891775 90845329 2124055133 1373956250 191037559 280201848 2068305112 686223395 1369415375 1181962726 1023801132 1386645760 862751076 447749788 547987828 1621546860 1770595590 719184651 1298464041 556316273 2011284920 125563013 1508618137 5608430 1919086189 1024684230 1196488317 342273311 1626331311 578484961 938269558 524041385 733121348 1456812997 1194981132 780818780 2096152290 562308995 1799232165 977763748 730445792 1585899892 1799941927 21831800 1854842610 1467126418 586472472 2040380821 1661583251 352353969 1400742204 1558484214 586142239 785122084 1407338620 755298282 522388157 864605763 1554703139 1462124124 264779447 562049145 1726900509 775365558 638163310 1077418052 583088460 999865959 687635138 1474259859 219131127 2396884 1629723742 1760497956 659458126 349621515 573544413 1654341555 1047737176 2100295279 1474048414 960342306 2133529737 1699835800 1165334559 727072473 725102281 1971823689 473100519 1415961639 1800974266 192484197 971526597 1129347638 1485279680 745669032 1892340579 335299183 376278953 1928506303 434750350 1109765356 930864097 614509884 818761965 2004619426 1915238646 783538439 560820869 410618600 1401852389 890010686 1185998247 129325875 326530361 1175059242 961062482 1352625887 321395667 775603064 334959358 1107291119 148552131 1339667903 1579890573 1733048903 1032208460 954686754 1569947741 2127595945 754841418 1433809497 1122213092 1834049290 2033631639 2044714668 1486105782 1745063464 1097472369 481061700 2075544592 2101079523 1769935440 361461836 2005323936 871036334 111643939 1646458942 1708646599 1072061709 753344833 2050509166 89985906 564634654 84393685 1065456775 1413368739 1171776906 1629416152 885800120 1285975836 1120452244 156764365 1923731333 1786208146 1126408409 1477781758 1429629151 1730098221 832219967 559992458 1519900452 648915699 1404193627 1584492106 1761602742 2047727252 578997542 963283837 32233726 586353838 46499183 1975204820 1465194414 327535949 896107582 577314263 589701095 469272760 1507325536 1903183540 36834715 605764669 2014305103 1493654813 1920092308 754657087 483242027 65594835 793280934 1094177162 933092473 1559603317 67553537 1500930743 1800079939 193915837 1410779960 611841193 1063228915 476947718 1651325822 1901920173 278262016 1677803393 233857394 546146948 746647758 1161919285 1308620824 1610160041 1518373240 750867379 1214129081 477850573 1793224278 934938348 370969737 743342518 1445325427 1396920372 1749463200 2029391323 1644684007 1942085112 1020526631 39198628 1681344814 1772461672 2017653767 1940075839 1610413672 1486182163 881315284 1071264829 245084555 262480939 585730835 313105997 1037556429 643688563 1598548402 1782568444 83479011 724916386 994970071 6824108 876149865 155413576 695857080 74001998 358548773 290114329 1163648813 312026862 80403660 577099657 1277785347 901857029 571505877 1752405355 2086066527 702098367 1892097551 545694881 1738692277 1391114810 812146781 344887935 473160292 273082803 530116382 1903864518 744613726 1335681813 1157669000 741041180 1421443307 1589571521 1231984767 2078138242 595398486 1736042829 1958998861 1822064670 324102470 1171684498 76314896 576719813 1336198180 1246314581 253670029 677138108 1144335703 2134101436 570962658 1212458210 312809087 342357353 891341558 2079127481 41669183 254289759 355521983 958462327 601493742 1099795365 868949826 1550925982 256472188 528384187 708150564 532157474 1848759410 158515427 1289059309 1404775427 625386471 1085449679 279173688 1967889168 917599129 1008491996 1784034648 1103649522 1221257115 19633779 1419925662 1852315770 1948199478 705460937 424753072 589238476 1283969815 1764995649 1090256732 1614418520 76185795 554402953 2066370385 381521411 1991668382 1142890485 1466642627 1045331723 326552354 1544695593 769022968 1412435530 519718772 1097408655 1557704149 360491666 732062275 836842262 937493231 361215378 10587977 1858470385 162115080 1658885164 102762347 549913841 1779792646 675282259 17852618 1548723793 1898987311 377774263 1290377709 2088287757 1527088978 1207387949 996278340 520064721 469322557 196780068 157786496 1922817874 1466088262 318053756 442679709 1234515955 1670142018 318146589 2002923940 1336492855 1903950012 34027737 673525657 559413862 385372068 137667524 938188049 1301603269 1777713741 94864276 951020658 83414385 1786230851 1508011344 544656714 1470088684 981153253 1863281505 1565713981 1837751976 1987649478 169164014 2018718317 504614866 649130859 725420453 876889552 1849914750 248961984 1005920732 1518473540 289125832 1729848910 937017284 951908737 2124456256 1673179570 1978159172 1726864597 171792574 1099769650 436757821 489592101 1564589850 124351435 472979514 1529714251 233194673 145213336 1059115160 56544137 1149538585 1532109683 1838514651 1921026321 1420228049 492083138 481775769 1192000393 75662288 345755392 20124562 1078580955 800646358 330806804 34792745 646113231 1547754185 635171184 180880251 1365018052 290599063 720638563 2112042908 1347953493 1249364648 2124022217 820737038 839932985 1343667164 75993496 1617400954 809830152 64009978 2073876746 1986879212 108205234 1834202476 313261447 1502720932 1823015404 1270703279 2132624385 1515970265 1166255847 1178774360 1124024945 73607956 178335820 1550439175 664641527 1567696242 793874251 328637746 86656938 449244300 2043930895 1198134853 98316452 989684221 1361856332 838662198 1460386525 1125724112 714220314 1614714315 752645066 1026943432 512190685 1274385619 1744687002 1212726476 526588455 592053898 1358127135 439073982 762604382 909442978 1367015547 1650242823 879825156 1796487297 2089407506 1019357598 1866097467 1648947081 577125832 1717708572 905302983 505596286 2111471270 330368215 1253362010 588208647 1155502988 844099495 503240383 1170515195 1898675845 1585416142 112006618 1299553954 1694614888 1464296102 261991694 952924708 2020011677 767279916 34247977 80132043 307000032 1493817730 363271033 200243210 380755621 2005937734 449721085 1467321802 1722807713 707219890 2070188732 131970030 1817170506 1819750355 82115911 1437614803 653481624 834283810 887263407 109636681 122728441 1112606767 1441818540 438729032 1407480673 995299406 1246990159 870691240 754100022 1858068807 2002728222 194544076 1232174598 }
	max: 2146322030
	min: 439'
run_test_command
